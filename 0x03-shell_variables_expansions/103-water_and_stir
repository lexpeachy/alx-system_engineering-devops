#!/bin/bash
mapfile -t a <<< "${WATER//?/1}"; mapfile -t b <<< "${STIR//?/1}"; sum=$((${#a[@]}+${#b[@]})); mapfile -t c <<< "${BESTCHOL//?/1}"; while [ $sum -gt 0 ]; do printf \\$(printf '%03o' $((sum%${#c[@]}+97)); sum=$((sum/${#c[@]})); done | tac